{
  "version": "0.1",
  "name": "BRP",
  "catalogue": "brp",
  "publish_schemas": {
    "brp_prep": "brp_prepared"
  },
  "destination": {
    "application": "GOBPrepare",
    "type": "postgres"
  },
  "actions": [
    {
      "type": "clear",
      "schemas": [
        "brp",
        "brp_prep"
      ],
      "id": "clear_schemas"
    },
    {
      "type": "import_csv",
      "objectstore": "Basisinformatie",
      "read_config": {
        "file_filter": "brp/6 Alle Actuele Personen.csv"
      },
      "column_names": {
        "Systeemnummer Persoon": "systeem_nummer_persoon",
        "A-nummer": "administratienummer",
        "Burgerservicenummer": "burgerservicenummer",
        "Voorletters": "voorletters",
        "Voornamen": "voornamen",
        "Voorvoegsel geslachtsnaam": "voorvoegsel",
        "Geslachtsnaam": "geslachtsnaam",
        "Geboortedatum": "geboortedatum",
        "Geboorteplaats": "geboorteplaats",
        "Geboorteland": "geboorteland",
        "Geslachtaanduiding": "geslachtsaanduiding",
        "A-nummer ouder1": "ouder1_administratienummer",
        "Burgerservicenummer Ouder1": "ouder1_bsn",
        "Voornaam Ouder1": "ouder1_voornaam",
        "Voorvoegsel geslachtsnaam Ouder1": "ouder1_voorvoegsel",
        "Geslachtsnaam Ouder1": "ouder1_geslachtsnaam",
        "Geboortedatum Ouder1": "ouder1_geboortedatum",
        "Geboorteplaats Ouder1": "ouder1_geboorteplaats",
        "Geboorteland Ouder1": "ouder1_geboorteland",
        "Geslachtsaanduiding Ouder1": "ouder1_geslachtsaanduiding",
        "A-nummer ouder2": "ouder2_administratienummer",
        "Burgerservicenummer Ouder2": "ouder2_bsn",
        "Voornaam Ouder2": "ouder2_voornaam",
        "Voorvoegsel geslachtsnaam Ouder2": "ouder2_voorvoegsel",
        "Geslachtsnaam Ouder2": "ouder2_geslachtsnaam",
        "Geboortedatum Ouder2": "ouder2_geboortedatum",
        "Geboorteplaats Ouder2": "ouder2_geboorteplaats",
        "Geboorteland Ouder2": "ouder2_geboorteland",
        "Geslachtsaanduiding Ouder2": "ouder2_geslachtsaanduiding",
        "Burgerlijke Staat": "burgerlijke_staat",
        "Nationaliteit": "nationaliteit",
        "A-nummer Partner": "partner_administratienummer",
        "Burgerservicenummer Partner": "partner_burgerservicenummer",
        "Datum sluiting Huwelijk": "datum_huwelijk",
        "Datum ontbinding Huwelijk": "datum_huwelijksontbinding",
        "Datum eerste inschrijving GBA": "datum_toetreding_gba",
        "Gemeente van inschrijving": "gemeente_inschrijving",
        "Datum Inschrijving": "gemeente_inschrijving_datum",
        "Functieadres": "functieadres",
        "Datum aanvang adreshouding": "datum_adreshouding",
        "Straatnaam": "straatnaam",
        "Huisnummer": "huisnummer",
        "Huisletter": "huisletter",
        "Huisnummertoevoeging": "huisnummer_toevoeging",
        "Aanduiding bij Huisnummer": "huisnummer_aanduiding",
        "systeemid adres": "systeemid_adres",
        "compleet adres": "adres_compleet",
        "Postcode Numeriek": "postcode_numeriek",
        "Postcode Alfanumeriek": "postcode_alfanumeriek",
        "Woonplaatsnaam": "woonplaats",
        "Locatiebeschrijving": "omschrijving_locatie",
        "Land Vanwaar Ingeschreven": "land_vanwaar_ingeschreven",
        "Datum Vestiging In Nederland": "datum_vestiging_in_nederland",
        "Datum 1e Vestiging vanuit Buitenland": "datum_1e_vestiging_vanuit_buitenland",
        "Aangever adreshouding": "code_aangifte_adreshouding",
        "Code gezinsrelatie": "code_gezinsrelatie",
        "Gezinsrelatie": "gezinsrelatie",
        "Indicatie geheim": "code_geheim",
        "Aanduiding gegevens in onderzoek": "aanduiding_onderzoek",
        "Datum ingang onderzoek": "datum_begin_onderzoek",
        "Datum einde onderzoek": "datum_einde_onderzoek",
        "Aantal keren in onderzoek": "aantal_keren_in_onderzoek",
        "Identificatiecode verblijfplaats": "ident_verblijfplaats",
        "Identificatiecode nummeraanduiding": "ident_nummeraanduiding",
        "Aantal kinderen": "aantal_kinderen",
        "Aantal kinderen waarvan minderjarig": "waarvan_minderjarig",
        "Indicatie Curateleregister": "indicatie_curatele_register"
      },
      "separator": ";",
      "encoding": "utf-8",
      "destination": "brp.personen_actueel",
      "id": "import_brp_pers_act",
      "depends_on": [
        "clear_schemas"
      ]
    },
    {
      "type": "import_csv",
      "objectstore": "Basisinformatie",
      "read_config": {
        "file_filter": "brp/6 SelectHisAdres.csv"
      },
      "column_names": {
        "Systeem nummer Persoon": "systeem_nummer_persoon",
        "BSN": "burgerservicenummer",
        "Gemeente Inschrijving": "gemeente_inschrijving",
        "Ident. Verblijfplaats": "ident_verblijfplaats",
        "Ident. Nummeraanduiding": "ident_nummeraanduiding",
        "systeemid adres": "systeemid_adres",
        "Adres compleet": "adres_compleet",
        "Straatnaam": "straatnaam",
        "Huisnummer": "huisnummer",
        "Huisletter": "huisletter",
        "Toevoeging Huisnummer": "huisnummer_toevoeging",
        "Postcode": "postcode",
        "Datum Inschrijving Gemeente Nr.": "datum_inschrijving_gemeentenr",
        "Code Functie Adres": "functieadres",
        "Datum Adreshouding Nr.": "datum_adreshouding_nr",
        "Datum Vertrek Uit Nederland Nr.": "datum_vertrek_uit_nederland_nr",
        "Code Land Vanwaar Ingeschreven": "code_land_vanwaar_ingeschreven",
        "Datum Vestiging In Nederland Nr.": "datum_vestiging_in_nederland_nr",
        "Aanduiding Onderzoek": "aanduiding_onderzoek",
        "Datum Begin Onderzoek Nr.": "datum_begin_onderzoek_nr",
        "Datum Einde Onderzoek Nr.": "datum_einde_onderzoek_nr",
        "Datum Geldigheid Nr.": "datum_geldigheid_nr"
      },
      "separator": ";",
      "encoding": "iso-8859-1",
      "destination": "brp.adres_historisch",
      "id": "import_brp_ads_hist",
      "depends_on": [
        "clear_schemas"
      ]
    },
    {
      "type": "import_csv",
      "objectstore": "Basisinformatie",
      "read_config": {
        "file_filter": "brp/6 Bewonershistorie.csv"
      },
      "column_names": {
        "systeemid adres": "systeemid_adres",
        "Identificatiecode verblijfplaats": "ident_verblijfplaats",
        "Identificatiecode nummeraanduiding": "ident_nummeraanduiding",
        "Straatnaam": "straatnaam",
        "Huisnummer": "huisnummer",
        "Huisletter": "huisletter",
        "Huisnummertoevoeging": "huisnummer_toevoeging",
        "Postcode": "postcode",
        "A-nummer": "administratienummer",
        "Burgerservicenummer": "burgerservicenummer",
        "Systeemnummer Persoon": "systeem_nummer_persoon",
        "Geboortedatum": "geboortedatum",
        "Geslachtsaanduiding": "geslachtsaanduiding",
        "Datum aanvang adreshouding": "begindatum_bewoning",
        "Einddatum bewoning": "einddatum_bewoning",
        "Reden Einde bewoning": "reden_einde_bewoning",
        "Indicatie Actueel of Historisch": "indicatie_actueel_historie",
        "Functieadres": "functieadres",
        "Aanduiding gegevens in onderzoek": "aanduiding_gegevens_onderzoek",
        "Datum ingang onderzoek": "datum_ingang_onderzoek",
        "Datum einde onderzoek": "datum_einde_onderzoek",
        "Datum overlijden": "datum_overlijden",
        "Gemeente waarnaar vertrokken": "gemeente_waarnaar_vertrokken",
        "Datum vertrek andere gemeente": "datum_uitschrijving_gemeente",
        "Datum vertrek uit Nederland": "datum_vertrek_nederland",
        "Land waarnaar vertrokken": "land_waarnaar_vertrokken"
      },
      "separator": ";",
      "encoding": "utf-8",
      "destination": "brp.bewoning_historisch",
      "id": "import_brp_bwg_hist",
      "depends_on": [
        "clear_schemas"
      ]
    },
    {
      "type": "select",
      "source": "dst",
      "id": "select_brp_prs_object",
      "depends_on": [
        "import_brp_pers_act"
      ],
      "query": "data/sql/brp/brp_personen.sql",
      "query_src": "file",
      "destination_table": {
        "name": "brp_prep.personen",
        "create": true,
        "columns": [
          {
            "name": "identificatie",
            "type": "VARCHAR"
          },
          {
            "name": "burgerservicenummer",
            "type": "VARCHAR"
          },
          {
            "name": "a_nummer",
            "type": "VARCHAR"
          },
          {
            "name": "voornamen",
            "type": "VARCHAR"
          },
          {
            "name": "voorvoegsels",
            "type": "VARCHAR"
          },
          {
            "name": "adellijketitel_predicaat",
            "type": "VARCHAR"
          },
          {
            "name": "geslachtsnaam",
            "type": "VARCHAR"
          },
          {
            "name": "geslachtsaanduiding_code",
            "type": "VARCHAR"
          },
          {
            "name": "geslachtsaanduiding_oms",
            "type": "VARCHAR"
          },
          {
            "name": "aanduiding_naamgebruik",
            "type": "VARCHAR"
          },
          {
            "name": "geboortedatum",
            "type": "VARCHAR"
          },
          {
            "name": "geboorteplaats_oms",
            "type": "VARCHAR"
          },
          {
            "name": "geboorteplaats_heeft_gem_code",
            "type": "VARCHAR"
          },
          {
            "name": "geboorteplaats_pl_in_buitlnd",
            "type": "VARCHAR"
          },
          {
            "name": "geboorteland",
            "type": "VARCHAR"
          },
          {
            "name": "nationaliteit_oms",
            "type": "VARCHAR"
          },
          {
            "name": "nationaliteit_code",
            "type": "VARCHAR"
          },
          {
            "name": "code_burgerlijke_staat",
            "type": "VARCHAR"
          },
          {
            "name": "gezinsrelatie_code",
            "type": "VARCHAR"
          },
          {
            "name": "gezinsrelatie_oms",
            "type": "VARCHAR"
          },
          {
            "name": "aantal_kinderen",
            "type": "INT"
          },
          {
            "name": "aantal_minderjarige_kinderen",
            "type": "INT"
          },
          {
            "name": "heeft_verblijfplaatsen",
            "type": "VARCHAR"
          },
          {
            "name": "heeft_overlijden_gegevens",
            "type": "VARCHAR"
          },
          {
            "name": "heeft_verbintenis",
            "type": "VARCHAR"
          },
          {
            "name": "heeft_inschrijving",
            "type": "VARCHAR"
          }
        ]
      }
    },
    {
      "type": "select",
      "source": "dst",
      "id": "select_brp_isc_object",
      "depends_on": [
        "import_brp_pers_act",
        "select_brp_prs_object"
      ],
      "query": "data/sql/brp/brp_inschrijvingen.sql",
      "query_src": "file",
      "destination_table": {
        "name": "brp_prep.inschrijvingen",
        "create": true,
        "columns": [
          {
            "name": "burgerservicenummer",
            "type": "VARCHAR"
          },
          {
            "name": "datum_eerste_inschrijving_GBA_RNI",
            "type": "VARCHAR"
          },
          {
            "name": "indicatie_geheim",
            "type": "VARCHAR"
          }
        ]
      }
    },
    {
      "type": "select",
      "source": "dst",
      "id": "select_brp_huw_object",
      "depends_on": [
        "import_brp_pers_act"
      ],
      "query": "data/sql/brp/brp_verbintenissen.sql",
      "query_src": "file",
      "destination_table": {
        "name": "brp_prep.verbintenissen",
        "create": true,
        "columns": [
          {
            "name": "verbintenis_met_persoon1",
            "type": "VARCHAR"
          },
          {
            "name": "verbintenis_met_persoon2",
            "type": "VARCHAR"
          },
          {
            "name": "datum_sluiting",
            "type": "VARCHAR"
          },
          {
            "name": "datum_ontbinding",
            "type": "VARCHAR"
          },
          {
            "name": "soort_verbintenis",
            "type": "VARCHAR"
          }
        ]
      }
    },
    {
      "type": "select",
      "source": "dst",
      "id": "select_brp_oln_object",
      "depends_on": [
        "import_brp_ads_hist"
      ],
      "query": "data/sql/brp/brp_overlijden.sql",
      "query_src": "file",
      "destination_table": {
        "name": "brp_prep.overlijden",
        "create": true,
        "columns": [
          {
            "name": "burgerservicenummer",
            "type": "VARCHAR"
          },
          {
            "name": "datum_overlijden",
            "type": "VARCHAR"
          },
          {
            "name": "plaats_overlijden",
            "type": "VARCHAR"
          },
          {
            "name": "land_overlijden",
            "type": "VARCHAR"
          }
        ]
      }
    },
    {
      "type": "select",
      "source": "dst",
      "id": "select_brp_hve_object",
      "depends_on": [
        "import_brp_pers_act"
      ],
      "query": "data/sql/brp/brp_persoonsverblijfplaatsen.sql",
      "query_src": "file",
      "destination_table": {
        "name": "brp_prep.persoonsverblijfplaatsen",
        "create": true,
        "columns": [
          {
            "name": "identificatie",
            "type": "VARCHAR"
          },
          {
            "name": "van_persoon",
            "type": "VARCHAR"
          },
          {
            "name": "met_verblijfplaats",
            "type": "VARCHAR"
          },
          {
            "name": "functieadres",
            "type": "VARCHAR"
          },
          {
            "name": "gemeente_inschrijving",
            "type": "VARCHAR"
          },
          {
            "name": "datum_inschrijving_gemeente",
            "type": "VARCHAR"
          },
          {
            "name": "datum_aanvang_adreshouding",
            "type": "VARCHAR"
          },
          {
            "name": "eind_datum_bewoning",
            "type": "VARCHAR"
          },
          {
            "name": "reden_einde_bewoning",
            "type": "VARCHAR"
          },
          {
            "name": "datum_uitschrijving_gemeente",
            "type": "VARCHAR"
          },
          {
            "name": "gemeente_waarnaar_vertrokken",
            "type": "VARCHAR"
          },
          {
            "name": "indicatie_actueel_historisch",
            "type": "VARCHAR"
          },
          {
            "name": "land_vanwaar_ingeschreven",
            "type": "VARCHAR"
          },
          {
            "name": "datum_vertrek_nederland",
            "type": "VARCHAR"
          },
          {
            "name": "land_waarnaar_vertrokken",
            "type": "VARCHAR"
          },
          {
            "name": "datum_vestiging_nederland",
            "type": "VARCHAR"
          }
        ]
      }
    },
    {
      "type": "select",
      "source": "dst",
      "id": "select_brp_vbl_object",
      "depends_on": [
        "import_brp_pers_act"
      ],
      "query": "data/sql/brp/brp_verblijfplaatsen.sql",
      "query_src": "file",
      "destination_table": {
        "name": "brp_prep.verblijfplaatsen",
        "create": true,
        "columns": [
          {
            "name": "identificatie",
            "type": "VARCHAR"
          },
          {
            "name": "straatnaam",
            "type": "VARCHAR"
          },
          {
            "name": "openbare_ruimte",
            "type": "VARCHAR"
          },
          {
            "name": "huisnummer",
            "type": "INT"
          },
          {
            "name": "huisletter",
            "type": "VARCHAR"
          },
          {
            "name": "huisnummertoevoeging",
            "type": "VARCHAR"
          },
          {
            "name": "aanduidinghuisnummer",
            "type": "VARCHAR"
          },
          {
            "name": "postcode",
            "type": "VARCHAR"
          },
          {
            "name": "adres_compleet",
            "type": "VARCHAR"
          },
          {
            "name": "ligt_in_woonplaats",
            "type": "VARCHAR"
          },
          {
            "name": "locatiebeschrijving",
            "type": "VARCHAR"
          },
          {
            "name": "is_verblijfsobject",
            "type": "VARCHAR"
          },
          {
            "name": "is_ligplaats",
            "type": "VARCHAR"
          },
          {
            "name": "is_standplaats",
            "type": "VARCHAR"
          },
          {
            "name": "heeft_nummeraanduiding",
            "type": "VARCHAR"
          },
          {
            "name": "verblijft_in_land",
            "type": "VARCHAR"
          },
          {
            "name": "buitenland_regel_1",
            "type": "VARCHAR"
          },
          {
            "name": "buitenland_regel_2",
            "type": "VARCHAR"
          },
          {
            "name": "buitenland_regel_3",
            "type": "VARCHAR"
          },
          {
            "name": "datum_aanvang_adres_buitenland",
            "type": "VARCHAR"
          },
          {
            "name": "aanduiding_persoongegevens_in_onderzoek",
            "type": "VARCHAR"
          },
          {
            "name": "datum_ingang_persoononderzoek",
            "type": "VARCHAR"
          },
          {
            "name": "datum_einde_persoononderzoek",
            "type": "VARCHAR"
          },
          {
            "name": "aantal_keren_persoon_in_onderzoek",
            "type": "INT"
          }
        ]
      }
    }
  ]
}
